<div *ngIf="!reset" class="container mt-5 py-5 col-md-6 col-11 shadow" style="max-width: 600px;">
  <h1 style="font-weight: 800;" class="text-primary">LogIn</h1>
  <form [formGroup]="login" (ngSubmit)="logIn(login)" class="mt-3 formAuth">
    

    <div class="form-group mb-3">
      <label>Email address</label>
      <input type="email" class="w-100" formControlName="email" name="email" required>

      <div *ngIf="login.get('email')?.touched && login.get('email')?.invalid" class="text-danger mt-1">
        <div *ngIf="login.get('email')?.errors?.['required']">Email is required</div>
        <div *ngIf="login.get('email')?.errors?.['email']">Please enter a valid email address</div>
        <div *ngIf="login.get('email')?.errors?.['pattern']">Invalid email format</div>
      </div>
    </div>

   
    <div class="form-group mb-3">
      <label>Password</label>
      <input type="password" class="w-100" formControlName="password" name="password" required>

      <div *ngIf="login.get('password')?.touched && login.get('password')?.invalid" class="text-danger mt-1">
        <div *ngIf="login.get('password')?.errors?.['required']">Password is required</div>
        <div *ngIf="login.get('password')?.errors?.['minlength']">Password must be at least 5 characters</div>
        <div *ngIf="login.get('password')?.errors?.['maxlength']">Password must not exceed 20 characters</div>
        <div *ngIf="login.get('password')?.errors?.['pattern']">Password must contain only letters and numbers (English or Arabic)</div>
      </div>
    </div>

    <p (click)="reset=true" class="my-0"><a style="color: blue; cursor: pointer;">Forget Password?</a></p>

    <button type="submit" class="btn btn-primary w-75 mt-5" [disabled]="login.invalid">Log In</button>

    <div class="py-2">
      <p class="mt-0"><a routerLink="/resign">Sign Up</a> if you donâ€™t have an account</p>
    </div>
  </form>

  <div *ngIf="load==true" [hidden]="!load" class="w-100 d-flex justify-content-center align-items-center " style="height: 100%; position:absolute; top: 0;">
    <app-loading></app-loading>
  </div>
</div>




<div *ngIf="reset" class="d-flex justify-content-center align-items-center " style="height: 80vh;">
  <div class="formAuth w-100 shadow-lg p-4" style="max-width: 600px; position: relative;">
  <h4>Reset Password</h4>
<div (click)="reset=false" style="position: absolute; top: 20px; right: 20px;">
<i class="fa-solid fa-circle-xmark"></i>
</div>
<input type="text" id="email" name="email"   [(ngModel)]="Email" #emailRef="ngModel" placeholder="Drop Your Email Address"class="w-100" required pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"/>

<!-- Validation messages -->
<div *ngIf="emailRef.invalid && emailRef.touched" class="text-danger mt-1">
  <div *ngIf="emailRef.errors?.['required']">Email is required</div>
  <div *ngIf="emailRef.errors?.['pattern']">Please enter a valid email address</div>
</div>

<button (click)="resetPassword()" [disabled]="!emailRef.valid" mat-raised-button color="primary" type="button" class="btn btn-primary w-100 mt-2">
  {{ load ? ' ...LOADING' : ' Sign Up' }}
</button>
  </div>

</div>